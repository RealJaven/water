<!DOCTYPE html>
<html>
<head>
<link rel='stylesheet' type='text/css' href='map_style.css'></link>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script>

    function update(el, val){
        el.innerHTML = val;
        if (el.id == 'demo'){
            dynamic_change(val);
        }
        
        // document.getElementById('demo').innerHTML = val;
    }

    function open_commentbox(val){
        document.getElementById("commentbox").style.display = 'block'
    }

    function close_commentbox(val){
        document.getElementById("commentbox").style.display = 'none'
        alert('Your comment has been recorded!')
    }

    function dynamic_change(val){
        var item_array = [document.getElementById("item_1"),
                          document.getElementById("item_2"),
                          document.getElementById("item_3"),
                          document.getElementById("item_4"),
                          document.getElementById("item_5")]
        var distance_array = [67, 142, 155, 215, 468]
        
        for (var i =0; i < 5; i++){
            if (val >= distance_array[i]){
                item_array[i].style.display = 'block';
            }
            else{
                item_array[i].style.display = 'none';
            }
        }

    }


</script>
</head>


<body>
<ul class='header'>
    <li><a class="active" href="home.html">Home</a></li>
    <li style="float:right"><a href="login.html">Sign in</a></li>
    <li style="float:right"><a href="#">Download map</a></li>
</ul>


<div class="row">
  <div class="column left" style="background-color:#aaa;">

    <!-- <ul class='item_2'>
    <li><h2 class='facility_name'>Water fountain #1</h2></li>
    <li class='rating'>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star"></span>
    </li>
    <li class='comment' style='float: right;'>
        <h3 class='comment_header'>Top comment:</h3>
        <p>"This is good!"</p>
    </li>
    </div> -->
    <div class='slidercontainer'>
        <input type="range" min="100" max="1000" value="500" class="slider" id="filter" onchange="update(document.getElementById('demo'), this.value);">
        <p>Max distance: <span id="demo">500</span> m</p>
    </div>


    <div class='item' style='clear: both' id='item_1' onclick="open_commentbox()">
    <div class='first_row' style="clear: both">
    <h2 class='facility_name' style="float: left;">1) Water fountain #1</h2>
    <h2 class='distance' style='float: right;'>67m</h2>
    </div>
    <div class='second_row' style='clear: both'>
    <div class='rating'>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star"></span>
    </div>
    <p class='comment'>"Best fountain on the campus! plus its free!"</p>
    </div>
    </div>

    <div class='item' style='clear: both' id='item_2' onclick="open_commentbox()">
        <div class='first_row' style="clear: both">
    <h2 class='facility_name' style="float: left;">2) Restaurant #1</h2>
    <h2 class='distance' style='float: right;'>142m</h2>
    </div>
    <div class='second_row' style='clear: both'>
    <div class='rating'>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
    </div>
    <p class='comment'>"Free sparkling water here!"</p>
    </div>
    </div>

    <div class='item' style='clear: both' id='item_3' onclick="open_commentbox()">
        <div class='first_row' style="clear: both">
    <h2 class='facility_name' style="float: left;">3) Water fountain #2</h2>
    <h2 class='distance' style='float: right;'>155m</h2>
    </div>
    <div class='second_row' style='clear: both'>
    <div class='rating'>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
    </div>
    <p class='comment'>"Its ok but not clean enough."</p>
    </div>
    </div>

    <div class='item' style='clear: both' id='item_4' onclick="open_commentbox()">
        <div class='first_row' style="clear: both">
    <h2 class='facility_name' style="float: left;">4) Cafe #1</h2>
    <h2 class='distance' style='float: right;'>215m</h2>
    </div>
    <div class='second_row' style='clear: both'>
    <div class='rating'>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
    </div>
    <p class='comment'>"Good place to date! but the price is bit high."</p>
    </div>
    </div>

    <div class='item' style='clear: both' id='item_5' onclick="open_commentbox()">
        <div class='first_row' style="clear: both">
    <h2 class='facility_name' style="float: left;">5) Vending machine #1</h2>
    <h2 class='distance' style='float: right;'>468m</h2>
    </div>
    <div class='second_row' style='clear: both'>
    <div class='rating'>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
        <span class="fa fa-star"></span>
    </div>
    <p class='comment'>"Why its always empty??"</p>
    </div>
    </div>

  </div>


  <div class="column right" style="background-color:#bbb;">
    <img src="map.jpg" alt="" />
  </div>
</div>

<div class='commentbox' id='commentbox' style="display: none;">
    <h2 class='comment_header'>Give your comment and rating!</h2>
    <form>
        <p>Your rating</p>
        <input type="range" min="1" max="5" value="1" class="slider" id="myRange" onchange="update(document.getElementById('rating_value'), this.value);">
        <p>Rating: <span id='rating_value'>1</span> star<p>

        <p>Your comment</p>
        <input type='text' name='password' class='login_password' id='password_login' placeholder="Your comment here">
        <input type='submit' name='submit_button' class='login_submit' value="Submit comment" onclick="close_commentbox()">
    </form>
</div>

</body>
</html>
